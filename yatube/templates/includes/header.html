<div class="sticky-top">
{% load static %} 
<nav class="navbar navbar-light" style="background-color: lightskyblue">
  <div class="container">
    <a class="navbar-brand" href="{% url 'posts:index'%}">
      <img src="img/logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
      <!-- тег span используется для добавления нужных стилей отдельным участкам текста -->
      <img src="{% static 'img/logo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
      <span style="color:red">Ya</span>tube
 
    </a>
    {% if user.is_authenticated %}
    {% with request.resolver_match.view_name as view_name %} 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      
      <a class="btn btn-primary {% if view_name  == 'posts:post_create' %}active{% endif %} "href="{% url 'posts:post_create'%}" role="button">Новая запись</a>
      <a class="btn btn-primary {% if view_name  == 'about:author' %}active{% endif %}"  href="{% url 'about:author'%}" role="button">Об авторе</a>
      <a class="btn btn-primary {% if view_name  == 'about:tech' %}active{% endif %}" href="{% url 'about:tech'%}" role="button">Технологии</a>
    <div class="btn-group">
      <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
        Пользователь: {{ user.username }}
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="{% url 'posts:profile' user.username %}" role="button">Пользователь: {{ user.username }}</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="{% url 'users:logout'%}" role="button">Выход</a></li>
        <li><a class="dropdown-item" href="{% url 'users:password_change_form'%}" role="button">Смена пароля</a></li>
        <li><a class="dropdown-item" href="{% url 'posts:edit'%}" role="button">Редактировать профиль</a></li>
      </ul>
    </div>
  </div>
    {% endwith %} 
{% else %}
{% with request.resolver_match.view_name as view_name %} 
<div class="d-grid gap-2 d-md-flex justify-content-md-end">
<a class="btn btn-primary {% if view_name  == 'about:author' %}active{% endif %}" href="{% url 'about:author'%}" role="button">Об авторе</a>
<a class="btn btn-primary {% if view_name  == 'about:tech' %}active{% endif %}" href="{% url 'about:tech'%}" role="button">Технологии</a>
<a class="btn btn-primary {% if view_name  == 'users:login' %}active{% endif %}" href="{% url 'users:login'%}" role="button">Войти</a>
<a class="btn btn-primary {% if view_name  == 'users:signup' %}active{% endif %}"  href="{% url 'users:signup'%}" role="button">Зарегистрироваться</a>
</button>
</div>
{% endwith %} 
{% endif %} 
  </div>
</nav>    
</div>

